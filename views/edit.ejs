<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Edit Profile</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link rel="stylesheet" href="/stylesheets/profile.css" />
    <link
    href="https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css"
    rel="stylesheet"
/>
  </head>
  <body class="bg-gray-50">
    <!-- Navbar -->
    <nav class="flex justify-between items-center bg-white shadow px-6 py-4 sticky top-0 z-50">
        <div class="flex items-center gap-3">
          <img
            src="https://i.pinimg.com/originals/d3/d1/75/d3d175e560ae133f1ed5cd4ec173751a.png"
            alt="Pin Logo"
            class="w-10 h-10 object-contain"
          />
          <span class="text-xl font-bold text-pinterest text-red-600"><a href="/profile">Pinclone</a></span>
        </div>
        <div class="flex items-center gap-4">
         
          
          <a
            href="/feed"
            class=" px-4 py-2 rounded-md text-red font-medium "
          >Feeds</a>
          <a
            href="/logout"
            class=" px-4 py-2 rounded-md text-red-600 font-medium"
          >Logout</a>
          <a
        href="/profile"
        class="text-red-600 px-3 py-2 rounded-full text-sm border-1 border-red-500"
        ><i class="ri-user-line"></i></a>
      </div>
    </div>
    
  </nav>
  <% if(success.length > 0){ %>
    <div class="fixed top-5 left-1/2 transform -translate-x-1/2 px-8 py-4 rounded-lg bg-green-500 shadow-lg text-white animate-bounce z-50">
      ✅ <%= success %>
    </div>
  <% } else if(error.length > 0){ %>
    <div class="fixed top-5 left-1/2 transform -translate-x-1/2 px-8 py-4 rounded-lg bg-red-500 shadow-lg text-white animate-bounce z-50">
      ❌ <%= error %>
    </div>
  <% } %>

    <!-- Edit Profile Form -->
    <main class="flex justify-center mt-10">
      <div class="bg-white p-8 rounded-xl shadow-lg w-full max-w-xl">
        <h2 class="text-2xl font-bold mb-6 text-gray-800">Edit Profile</h2>
        
        <form action="/edit/<%= user._id %>" method="POST" enctype="multipart/form-data" class="space-y-6">
          <!-- Name -->
          <div>
            <label for="fullname" class="block mb-2 text-sm font-medium text-gray-700">Full Name</label>
            <input
              type="text"
              id="fullname"
              name="fullname"
              value="<%= user.fullname %>"
              class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-red-400"
              required
            />
          </div>

          <!-- Description -->
          <div>
            <label for="description" class="block mb-2 text-sm font-medium text-gray-700">Description</label>
            <textarea
              id="description"
              name="description"
              rows="4"
              class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-red-400 resize-none"
              placeholder="Tell something about yourself..."
            ><%= user.description || '' %></textarea>
          </div>

          <!-- Profile Picture -->
          <div>
            <label class="block mb-2 text-sm font-medium text-gray-700">Upload New Profile Picture</label>
            <input
              type="file"
              name="image"
              accept="image/*"
              class="block w-full text-sm text-gray-700 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-red-100 file:text-red-700 hover:file:bg-red-200"
            />
          </div>

          <!-- Submit -->
          <div class="text-right">
            <button
              type="submit"
              class="bg-red-500 hover:bg-red-600 text-white font-semibold px-6 py-2 rounded-lg"
            >
              Save Changes
            </button>
          </div>
        </form>
      </div>
    </main>
    <%- include('./partials/footer')%>

